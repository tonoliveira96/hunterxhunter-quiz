<main class="max-w-4xl m-4">
  @if(!finished){
  <div class="h-4 rounded-full w-full bg-white mb-2">
    <div
      class="h-4 rounded-full bg-hxh-blue w-[{{((surveyIndex + 1) * 10)}}]"
      style="{{ 'width:' + (surveyIndex + 1) * 10 + '%;' }}"
    ></div>
  </div>
  }
  <div class="sm:flex gap-4 bg-hxh-grayish-green-light rounded-3xl shadow-xl">
    <div class="w-full flex flex-col p-4">
      <div>
        @if(!finished){
        <span class="font-bold text-2xl text-hxh-grayish-green-dark"
          >{{ surveyIndex + 1 }}. {{ currentQuestion.question }}</span
        >
        @for (item of currentQuestion.options; track $index) {
        <button
          (click)="onSelectAnswer(item.type)"
          class="w-full mt-2 text-hxh-grayish-green-dark text-left border-[1px] border-hxh-grayish-green-dark bg-white rounded-full px-4 py-2 shadow-md hover:bg-hxh-blue hover:text-white hover:border-hxh-blue active:bg-hxh-blue"
        >
          {{ item.answer }}
        </button>
        } }
      </div>
      <div class="relative flex justify-center">
        @if (finished) {
        <img
          class="brightness-50"
          src="assets/teste-folha-hxh.jpg"
          alt="Teste da Folha HunterxHunter"
        />
        <button
          (click)="onFinish()"
          class="absolute bottom-20 bg-hxh-blue py-4 px-6 rounded-full text-white font-bold"
        >
          REVELAR RESULTADO
        </button>
        <span
          class="absolute bottom-2 italic text-sm text-white hover:opacity-85"
          >Reprodução: Hunter x Hunter</span
        >
        }
      </div>
    </div>
  </div>
</main>
